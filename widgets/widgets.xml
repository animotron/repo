<?xml version="1.0" encoding="UTF-8"?>
<the:widgets xmlns:ic="animo/connection" xmlns:any="animo/query" xmlns:an="animo/reference" xmlns:the="animo/instance">
    <xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:widget="animo/widget" version="2.0">
		<xsl:template match="widget:panel">
			<div xmlns="http://www.w3.org/1999/xhtml">
                <xsl:apply-templates/>
			</div>
		</xsl:template>
		<xsl:template match="widget:table">
			<table xmlns="http://www.w3.org/1999/xhtml">
                <xsl:apply-templates select="widget:columns"/>
				<xsl:apply-templates select="widget:rows"/>
			</table>
		</xsl:template>
		<xsl:template match="widget:columns">
			<tr xmlns="http://www.w3.org/1999/xhtml">
                <xsl:for-each select="ic:name">
					<th>
                        <xsl:value-of select="text()"/>
					</th>
				</xsl:for-each>
			</tr>
		</xsl:template>
		<xsl:template match="widget:rows">
			<xsl:variable name="columns" select="widget:columns/ic:*"/>
			<xsl:for-each select="ic:test">
				<xsl:variable name="row" select="."/>
				<tr xmlns="http://www.w3.org/1999/xhtml">
                    <xsl:for-each select="$columns">
						<xsl:variable name="column" select="."/>
						<td>
                            <xsl:value-of select="$row/*[node-name(.) eq node-name($column)]"/>
						</td>
					</xsl:for-each>
				</tr>
			</xsl:for-each>
		</xsl:template>
	</xsl:stylesheet>
</the:widgets>